<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 	
 	
<mapper namespace="com.citrus.hotel.mapper">
	
	<!-- 객실 리스트 출력 -->
	<select id="roomList" resultType="roomDTO">
		SELECT room_name, room_no, room_type, room_price, room_size, room_fit, room_max, room_bed
		FROM room
	</select>
	
	
	<select id="commonFacilitiesList" resultType="commonDTO">
		SELECT cm.group_cd, cm.cmmn_nm, CMMN_CD 
		FROM COMMON cm
		WHERE GROUP_cd = 02
	</select>
	
	<select id="roomFacilitiesList" resultType="room_facilitiesDTO">
		SELECT room_no, roomf_use, roomf_cd
		FROM ROOM_FACILITIES rf
	</select>

	
	<select id="select_room_facilities" parameterType="int" resultType="facilities_n_commonDTO">
		SELECT rf.room_no, rf.roomf_use, rf.roomf_cd, cm.group_cd, cm.cmmn_nm
		FROM room_facilities rf, common cm
		WHERE rf.ROOMF_USE = 1 AND rf.ROOMF_CD = cm.CMMN_CD
	</select>
	
	<select id="cmmn_nm_test" parameterType="String" resultType="facilities_n_commonDTO">
		SELECT rf.room_no, rf.roomf_use, rf.roomf_cd, cm.group_cd, cm.cmmn_nm
		FROM room_facilities rf, common cm
		WHERE rf.ROOMF_USE = 1 AND rf.ROOMF_CD = cm.CMMN_CD AND rf.room_no = ${value}
	</select>
	
	
</mapper>